<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css"
    />
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"
    ></script>
    <title>
      NesThing
    </title>
    <style>
      body {
        font-family: monospace;
      }

      canvas {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        margin-left: 84px;
        margin-top: 58px;
      }

      select {
        height: 36px;
        box-shadow: none;
        font-size: large;
      }

      .nes-console {
        background: url("./src/web/overlay2.png");
        width: 428px;
        height: 409px;
        margin-bottom: 8px;
      }

      td {
        padding: 4px;
      }

      #button-mapping-container {
        margin-bottom: 8px;
      }

      #button-mapping-container > div {
        display: inline-block;
      }

      .information {
        margin-top: 16px;
        margin-bottom: 16px;
      }

      .indicators {
        margin-top: 16px;
      }

      #fps {
        font-weight: bold;
      }

      #overlay {
        height: 500px;
        width: 100vw;
        position: absolute;
        opacity: 0.55;
        background-color: white;
      }

      #overlay div {
        margin: 32px;
      }

      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <hr />
      Back to <a href="http://rogerngo.com">home page</a>.
      <hr />
      <h1 class="title is-1">NESthing</h1>
      <div>
        For this demo, a few games are supported. Choose one from the list and
        press "Play".
        <strong>
          Right now, there are a few bugs, but they will all get sorted out :).
          If you would like to switch to a new game, you will have to refresh
          this page and then hit "Play" again.
        </strong>
        <hr />
      </div>
      <div id="button-mapping-container">
        <div>
          <strong>Player 1: Button Mapping</strong>
          <table border="1">
            <tr>
              <td>START</td>
              <td>Enter</td>
            </tr>
            <tr>
              <td>SELECT</td>
              <td>Shift</td>
            </tr>
            <tr>
              <td>Up, Left, Down, Right</td>
              <td>W, A, S, D</td>
            </tr>
            <tr>
              <td>A, B</td>
              <td>J, K</td>
            </tr>
          </table>
        </div>
      </div>

      <div id="overlay">
        <div>
          <strong>Loading...</strong>
        </div>
        <div>
          <img src="src/web/spinner.gif" />
        </div>
      </div>
      <div class="nes-console">
        <canvas id="main" width="256" height="240"></canvas>
      </div>
      <div>
        <div id="fps">0 fps</div>
      </div>
      <div class="controls">
        <div class="field">
          <div class="control">
            <div class="select is-medium">
              <select id="select-game">
                <option value="0">Mario Bros.</option>
                <option value="1">Donkey Kong</option>
                <option value="2">Space Invaders</option>
                <option value="3">F1 Race</option>
                <option value="4">Tetris</option>
                <option value="5">Super Mario Bros.</option>
                <option value="6">Legend of Zelda</option>
                <option value="7">Mega Man</option>
                <option value="8">Final Fantasy</option>
                <option value="9">Silk Worm</option>
                <option value="10">Mega Man 2</option>
                <option value="11">Teenage Mutant Ninja Turtles</option>
              </select>
            </div>
          </div>
        </div>
        <div class="field">
          <div class="control">
            <button type="button" class="button is-primary" id="btn-play">
              <i class="fas fa-play"></i> &nbsp; Play
            </button>
          </div>
        </div>
        <div class="field">
          <div class="control">
            <button type="button" class="button" id="btn-save">
              <i class="fas fa-file-download"></i> &nbsp; Save
            </button>
          </div>
        </div>
      </div>

      <div class="indicators">
        <div id="saved-status"></div>
      </div>

      <div>
        <strong
          >Load your save state file from disk here once you have started the
          game. Click "Load" when ready.</strong
        >
      </div>
      <div class="field">
        <div class="control">
          <div class="file has-name">
            <label class="file-label">
              <input class="file-input" id="save-file" type="file" name="files[]" />
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fas fa-upload"></i>
                </span>
                <span class="file-label">
                  Choose a file...
                </span>
              </span>
              <span id="file-name" class="file-name">
                  No file chosen.
              </span>
            </label>
          </div>
        </div>
      </div>
      <div class="field">
        <div class="control">
          <button type="button" class="button" id="btn-load">
            <i class="fas fa-upload"></i> &nbsp; Load
          </button>
        </div>
      </div>

      <div class="information">
        <div>
          GitHub repository:
          <a href="https://github.com/urbanspr1nter/nesthing">NESthing</a>
        </div>
      </div>

      <hr />
      Roger Ngo. <a href="http://rogerngo.com">http://rogerngo.com</a>
      <hr />
    </div>

    <script src="./dist/bundle.js" type="text/javascript"></script>
  </body>
</html>
